# ===================================
# BASE ENVIRONMENT (All Environments)
# ===================================
# This file contains default values and TYPO3 configuration shared across all environments
# Override these in:
# - .env.local (local development, gitignored)
# - .env.stage (stage server, gitignored)
# - .env.live (live server, gitignored)
# ===================================

# ===================================
# Docker Compose
# ===================================
BASE_IMAGE=webdevops/php-nginx:8.4
APP_PORT=80
REDIS_PORT=6379
DATABASE_PORT=3306

# ===================================
# MySQL Defaults
# ===================================
MYSQL_HOST=mysql
MYSQL_DATABASE=typo3

# ===================================
# Mail Defaults
# ===================================
MAIL_TRANSPORT=smtp
MAIL_DEFAULT_FROM_NAME="Binder Defence"

# ===================================
# GitHub Container Registry
# ===================================
GITHUB_REPOSITORY=binder-gmbh/binder-defence

# ================================
# TYPO3 Configuration
# ================================
# These variables use ${} placeholders that are substituted
# from environment-specific values in .env.local/.env.stage/.env.live

# ================================
# Database Credentials
# ================================
TYPO3__DB__Connections__Default__dbname=${MYSQL_DATABASE}
TYPO3__DB__Connections__Default__host=${MYSQL_HOST}
TYPO3__DB__Connections__Default__password=${MYSQL_PASSWORD}
TYPO3__DB__Connections__Default__driver=mysqli
TYPO3__DB__Connections__Default__port=${DATABASE_PORT}
TYPO3__DB__Connections__Default__user=${MYSQL_USER}
TYPO3__DB__Connections__Default__charset=utf8mb4

# ================================
# Mail Configuration
# ================================
TYPO3__MAIL__transport=${MAIL_TRANSPORT}
TYPO3__MAIL__transport_smtp_server=${SMTP_SERVER}
TYPO3__MAIL__defaultMailFromAddress=${MAIL_DEFAULT_FROM_EMAIL}
TYPO3__MAIL__defaultMailFromName=${MAIL_DEFAULT_FROM_NAME}

# ================================
# System Configuration
# ================================
TYPO3__SYS__encryptionKey=${TYPO3_ENCRYPTION_KEY}

# ================================
# Backend Configuration
# ================================
# TYPO3__BE__installToolPassword should be set individually on each instance:
# - via Install Tool in the backend
# - or in .env.local/.env.stage/.env.live (not tracked in git)

# ================================
# Graphics Configuration
# ================================
TYPO3__GFX__processor=ImageMagick
TYPO3__GFX__processor_enabled=1
TYPO3__GFX__processor_path=/usr/bin/
TYPO3_CONTEXT=Development/Local
